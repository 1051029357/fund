{"version":3,"sources":["webpack:///./src/views/Position.vue","webpack:///./src/views/Position.vue?5b73","webpack:///./src/views/Position.vue?e63b"],"names":["class","id","title","left-arrow","fixed","$router","go","isLoading","positionInfo","date","stockList","item","index","key","name","setup","state","route","params","code","then","res","other","data","parseFloat","stock","bond","cash","value","console","log","chartDom","document","getElementById","myChart","echarts","option","text","textStyle","fontWeight","width","overflow","tooltip","trigger","legend","orient","left","top","series","type","radius","labelLine","emphasis","itemStyle","shadowBlur","shadowOffsetX","shadowColor","setOption","__exports__","render"],"mappings":"6NACOA,MAAM,Y,GAQFA,MAAM,gB,GACJA,MAAM,gB,GACJA,MAAM,c,uBACT,eAAiB,YAAX,QAAI,M,uBAEZ,eAA0C,OAArCA,MAAM,WAAWC,GAAG,Y,eAEtBD,MAAM,Y,GACJA,MAAM,c,uBACT,eAAiB,YAAX,QAAI,M,GAERA,MAAM,c,uBACR,eAIK,WAHH,eAAe,WAAV,QACL,eAAa,WAAR,MACL,eAAmB,WAAd,c,SAGAA,MAAM,Q,yHA1BvB,eAqCM,MArCN,EAqCM,CApCJ,eAKE,GAJAE,MAAM,OACNC,aAAA,GACAC,MAAA,GACC,YAAU,+BAAE,EAAAC,QAAQC,IAAE,OAEzB,eA6BmB,G,WA7BQ,EAAAC,U,qDAAA,EAAAA,UAAS,IAAG,UAAO,+BAAE,EAAAA,WAAS,K,yBACvD,iBA2BM,CA3BN,eA2BM,MA3BN,EA2BM,CA1BJ,eAKM,MALN,EAKM,CAJJ,eAEM,MAFN,EAEM,CADJ,EAAiB,eAAoC,2BAA3B,EAAAC,aAAaC,MAAI,KAE7C,IAEF,eAmBM,MAnBN,EAmBM,CAlBJ,eAEM,MAFN,EAEM,CADJ,EAAiB,eAAoC,2BAA3B,EAAAD,aAAaC,MAAI,KAE7C,eAcK,KAdL,EAcK,CAbH,G,mBAKA,eAOK,2BAPuB,EAAAD,aAAaE,WAAS,SAAtCC,EAAMC,G,wBAAlB,eAOK,MAPgDC,IAAKD,GAAK,CAC7D,eAGM,MAHN,EAGM,CAFJ,eACC,2BADQD,EAAK,IAAD,GACZ,eAA0B,2BAAjBA,EAAK,IAAD,KAEhB,eAAwB,0BAAhBA,EAAK,IAAD,GACZ,eAAwB,0BAAhBA,EAAK,IAAD,Q,6FAaX,GACbG,KAAM,WACNC,MAFa,WAGX,IAAMC,EAAQ,eAAS,CACrBR,aAAc,GACdD,WAAW,IAEPU,EAAQ,iBAyEd,OAxEA,gBAAU,WACR,eAAgBA,EAAMC,OAAOC,MAAMC,MAAK,SAACC,GACvC,GAAgB,KAAZA,EAAIF,KAAa,CAGnB,IAAIG,EAFJN,EAAMR,aAAea,EAAIE,KASvBD,EALAE,WAAWH,EAAIE,KAAKE,OAClBD,WAAWH,EAAIE,KAAKG,MACpBF,WAAWH,EAAIE,KAAKI,MACtB,IAEQ,EAGN,EACAH,WAAWH,EAAIE,KAAKE,OACpBD,WAAWH,EAAIE,KAAKG,MACpBF,WAAWH,EAAIE,KAAKI,MAGxB,IAAMJ,EAAO,CACX,CAAET,KAAM,KAAMc,MAAOJ,WAAWH,EAAIE,KAAKE,QACzC,CAAEX,KAAM,KAAMc,MAAOJ,WAAWH,EAAIE,KAAKG,OACzC,CAAEZ,KAAM,KAAMc,MAAOJ,WAAWH,EAAIE,KAAKI,OACzC,CACEb,KAAM,KACNc,MAAON,IAGXO,QAAQC,IAAIP,GACZ,IAAMQ,EAAWC,SAASC,eAAe,YACnCC,EAAUC,EAAA,KAAaJ,GAEvBK,EAAS,CACblC,MAAO,CACLmC,KAAMrB,EAAMR,aAAaN,MACzBoC,UAAW,CACTC,WAAY,IACZC,MAAO,IACPC,SAAU,aAGdC,QAAS,CACPC,QAAS,QAEXC,OAAQ,CACNC,OAAQ,WACRC,KAAM,OACNC,IAAK,UAEPC,OAAQ,CACN,CACEC,KAAM,MACNC,OAAQ,CAAC,MAAO,OAChB3B,OACA4B,WAAW,EACXC,SAAU,CACRC,UAAW,CACTC,WAAY,GACZC,cAAe,EACfC,YAAa,0BAOvBpB,GAAUF,EAAQuB,UAAUrB,UAIlC,kBACK,eAAOpB,M,iCCvHhB,MAAM0C,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,2DCTf","file":"js/chunk-1e7222f8.454c7678.js","sourcesContent":["<template>\n  <div class=\"position\">\n    <van-nav-bar\n      title=\"持仓信息\"\n      left-arrow\n      fixed\n      @click-left=\"$router.go(-1)\"\n    />\n    <van-pull-refresh v-model=\"isLoading\" @refresh=\"isLoading = false\">\n      <div class=\"main-content\">\n        <div class=\"distribution\">\n          <div class=\"main-title\">\n            <span>投资分布</span><span>{{ positionInfo.date }}</span>\n          </div>\n          <div class=\"draw-box\" id=\"draw-box\"></div>\n        </div>\n        <div class=\"stockbox\">\n          <div class=\"main-title\">\n            <span>重仓持股</span><span>{{ positionInfo.date }}</span>\n          </div>\n          <ul class=\"stock-list\">\n            <li>\n              <div>股票名称</div>\n              <div>占比</div>\n              <div>持有股数(万股)</div>\n            </li>\n            <li v-for=\"(item, index) in positionInfo.stockList\" :key=\"index\">\n              <div class=\"name\">\n                <span>{{ item[1] }}</span\n                ><span>{{ item[0] }}</span>\n              </div>\n              <div>{{ item[2] }}</div>\n              <div>{{ item[3] }}</div>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </van-pull-refresh>\n  </div>\n</template>\n<script>\nimport * as echarts from \"echarts\";\nimport { reactive, toRefs, onMounted } from \"vue\";\nimport { getFundPosition } from \"@/request/api.js\";\nimport { useRoute } from \"vue-router\";\nexport default {\n  name: \"Position\",\n  setup() {\n    const state = reactive({\n      positionInfo: {},\n      isLoading: false,\n    });\n    const route = useRoute();\n    onMounted(() => {\n      getFundPosition(route.params.code).then((res) => {\n        if (res.code == 200) {\n          state.positionInfo = res.data;\n\n          let other;\n          if (\n            parseFloat(res.data.stock) +\n              parseFloat(res.data.bond) +\n              parseFloat(res.data.cash) >\n            100\n          ) {\n            other = 0;\n          } else {\n            other =\n              1 -\n              parseFloat(res.data.stock) -\n              parseFloat(res.data.bond) -\n              parseFloat(res.data.cash);\n          }\n\n          const data = [\n            { name: \"股票\", value: parseFloat(res.data.stock) },\n            { name: \"债券\", value: parseFloat(res.data.bond) },\n            { name: \"现金\", value: parseFloat(res.data.cash) },\n            {\n              name: \"其它\",\n              value: other,\n            },\n          ];\n          console.log(data);\n          const chartDom = document.getElementById(\"draw-box\");\n          const myChart = echarts.init(chartDom);\n\n          const option = {\n            title: {\n              text: state.positionInfo.title,\n              textStyle: {\n                fontWeight: 400,\n                width: 375,\n                overflow: \"breakAll\",\n              },\n            },\n            tooltip: {\n              trigger: \"item\",\n            },\n            legend: {\n              orient: \"vertical\",\n              left: \"left\",\n              top: \"middle\",\n            },\n            series: [\n              {\n                type: \"pie\",\n                radius: [\"60%\", \"30%\"],\n                data,\n                labelLine: false,\n                emphasis: {\n                  itemStyle: {\n                    shadowBlur: 10,\n                    shadowOffsetX: 0,\n                    shadowColor: \"rgba(0, 0, 0, 0.5)\",\n                  },\n                },\n              },\n            ],\n          };\n\n          option && myChart.setOption(option);\n        }\n      });\n    });\n    return {\n      ...toRefs(state),\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.position {\n  .van-nav-bar {\n    border-bottom: 1px solid #eee;\n  }\n  .main-title {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 10px 0;\n    span:first-child {\n      font-size: 16px;\n    }\n    span:last-child {\n      font-size: 12px;\n      color: var(--vice-color);\n    }\n  }\n  .main-content {\n    margin-top: 46px;\n    background-color: #eee;\n    .distribution {\n      background-color: #fff;\n      margin-bottom: 10px;\n      padding: 0 10px;\n      #draw-box {\n        height: 300px;\n      }\n    }\n    .stockbox {\n      background-color: #fff;\n      margin-bottom: 20px;\n      padding: 0 10px;\n      .stock-list {\n        li {\n          padding: 10px 0;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          border-bottom: 1px solid #eee;\n          font-size: 12px;\n          &:first-child {\n            border-top: 1px solid #eee;\n            color: var(--vice-color);\n            span {\n              font-size: 12px;\n            }\n          }\n          .name {\n            display: flex;\n            flex-direction: column;\n            span:last-child {\n              font-size: 12px;\n              color: var(--vice-color);\n              margin-top: 3px;\n            }\n          }\n          div {\n            flex: 1;\n            &:nth-child(2) {\n              text-align: center;\n            }\n            &:nth-child(3) {\n              text-align: right;\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./Position.vue?vue&type=template&id=0cf1c693&scoped=true\"\nimport script from \"./Position.vue?vue&type=script&lang=js\"\nexport * from \"./Position.vue?vue&type=script&lang=js\"\n\nimport \"./Position.vue?vue&type=style&index=0&id=0cf1c693&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\czj\\\\git-repository\\\\fund\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0cf1c693\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Position.vue?vue&type=style&index=0&id=0cf1c693&lang=scss&scoped=true\""],"sourceRoot":""}